const filterOptions = useMemo(() => {
  // helper to pull out, split, trim, and dedupe a given field across all BUs
  const extractNames = field =>
    Array.from(
      new Set(
        data.flatMap((sc) =>
          sc.businessUnits
            .map((bu) => bu[field] || '')       // guard against null/undefined
            .flatMap((names) =>
              names
                .split(',')                     // split commaâ€‘separated
                .map((s) => s.trim())           // trim whitespace
                .filter((s) => s.length > 0)    // drop empty
            )
        )
      )
    );

  return {
    subcategoryNames: Array.from(
      new Set(data.map((sc) => sc.subcategoryName || '').filter(Boolean))
    ),
    bus: ['ABC', 'UIO', 'POA', 'SKA-C'],         // static list
    buOwners: extractNames('businessUnitOwner'),
    subcatCustodians: extractNames('auditorSubcatCustodian'),
    inScopeOptions: ['Yes', 'No'],
    profileTypes: ['Provider', 'Consumer', 'Both', 'Inheritor'],
  };
}, [data]);
